@model IEnumerable<Chat.Models.Message>
@{
    ViewData["Title"] = "Home Page";
}

@if (User.Identity.IsAuthenticated)
{
    <p id="userName">@User.Identity.Name</p>

    <div id="header"></div><br />
    <div id="chatroom" style="overflow: auto; width:100%; height:300px;">
        <ul>
            @foreach(var message in Model)
            {
                @if (message.User != null)
                {
                    <li><b>@message.User.UserName: </b>@message.Text</li>
                }
            }
        </ul>
    </div>
    <br />
    <div id="inputForm">
        <input type="text" id="message" />
        <input type="submit" id="sendBtn" value="Отправить" />
    </div>
}
else
{
<p>Пожалуйста, авторизируйтесь, или пройдите регистрацию.</p>
<div id="chatroom" style="overflow: auto; width:300px; height:200px;"></div>
}

<script src="~/lib/signalr/dist/browser/signalr.js"></script>
<script src="~/js/chat.js"></script>
